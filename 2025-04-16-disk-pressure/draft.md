üî• DevOps-—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å: DiskPressure, Talos –∏ –∑–∞–ø—É—Å–∫ Pod‚Äô–∞ –ª—é–±–æ–π —Ü–µ–Ω–æ–π

–ù–∞ –¥–Ω—è—Ö —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π –Ω–∞ Kubernetes-–∫–ª–∞—Å—Ç–µ—Ä–µ –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º Talos: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª local-path-provisioner –∏ –Ω–∞–∫–æ—Å—è—á–∏–ª –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è `fio` –≤—Å–µ worker –Ω–æ–¥—ã –∑–∞–±–∏–ª–∏—Å—å –¥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è DiskPressure. –ù—É–∂–Ω–æ –±—ã–ª–æ —Å—Ä–æ—á–Ω–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ —Å–∞–º–æ–π –Ω–æ–¥–µ.

–£–¥–∞–ª–µ–Ω–∏–µ PV –Ω–µ –ø–æ–º–æ–≥–∞–ª–æ, –ø–æ–¥ —Å `local-path-provisioner` —Ç–æ–∂–µ –≤—ã—à–∏–±–ª–æ —Å –Ω–æ–¥—ã :)

–ù—É —è –∂–µ —É–º–Ω—ã–π! –ü–æ–¥—É–º–∞–ª —è –∏ –≤—ã–∫–∞—Ç–∏–ª DaemonSet —Å toleration –¥–ª—è node.kubernetes.io/disk-pressure ‚Äî –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã—à–ª–æ: kubelet —Å—Ä–∞–∑—É —ç–≤–∞–∫—É–∏—Ä—É–µ—Ç ("Evicted") –ø–æ–¥—ã. –û–±—ã—á–Ω—ã–µ tolerations —Ç—É—Ç –Ω–µ —Å–ø–∞—Å–∞—é—Ç ‚Äî DiskPressure –≤ K8s —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ—Å–ø–æ—â–∞–¥–Ω–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö –≤—Ä–æ–¥–µ Talos, –≥–¥–µ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –Ω–æ–¥—É –Ω–µ –ø–æ–ø–∞—Å—Ç—å –Ω–∏ ssh, –Ω–∏ bash‚Äô–µ–º (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ talosctl).

–ß—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–º–æ–≥–ª–æ?  
–ö–ª—é—á –æ–∫–∞–∑–∞–ª–∞—Å—å –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö:  
–ü—Ä–æ–ø–∏—Å–∞–ª —É Pod‚Äô–∞
`priorityClassName: "system-cluster-critical"`
–∏ —Ç–æ–ª—å–∫–æ —Å –Ω–∏–º Kubernetes —Ä–∞–∑—Ä–µ—à–∏–ª –º–æ–µ–º—É DaemonSet‚Äô—É —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –¥–∞–∂–µ –ø–æ–¥ DiskPressure! –≠—Ç–æ –ø–æ–º–æ–≥–ª–æ –∑–∞—Å–∫–æ—á–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å /opt —á–µ—Ä–µ–∑ hostPath, –±—ã—Å—Ç—Ä–µ–Ω—å–∫–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å –º—É—Å–æ—Ä ‚Äî –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É—à–ª–æ DiskPressure.

–õ–∞–π—Ñ—Ö–∞–∫:
- –ù–∞ Talos (–∏ –Ω–µ —Ç–æ–ª—å–∫–æ) –ø—Ä–∏ DiskPressure —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä tolerations _–Ω–µ —Å–ø–∞—Å–∞–µ—Ç_ –æ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ Eviction.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π PriorityClass (system-cluster-critical) ‚Äî –∏ —É –≤–∞—Å –µ—Å—Ç—å —à–∞–Ω—Å —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å POD –¥–∞–∂–µ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –¥–∏—Å–∫–µ –∏ –¥–æ–¥–µ–ª–∞—Ç—å –Ω—É–∂–Ω—É—é —Ä–∞–±–æ—Ç—É –±–µ–∑ –±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ-–º—É—á–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –æ–ø–µ—Ä–∞—Ü–∏–π.
